<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Document</title>
</head>

<body>
    <input type='file' id='file' accept='image/*,video/*' capture='' />

</body>

</html>
<script>
    var html = `
[ti:文爱]							
[ar:CG]							
[al:]						
[by:果果1314]					

[00:00.00]CG - 文爱\r\n
[00:01.00]词：Ayi/YL\r\n
[00:02.00]曲：luke Christopher\r\n
[00:03.00]歌词编辑：果果\r\n
[00:04.00]QQ:765708831\r\n
[00:05.00]爱歌词网：www.22lrc.com\r\n
[00:06.00]\r\n
[00:10.61]女：\r\n
[00:11.73]知道爱你 没有结局\r\n
[00:14.37]痴心妄想你会给我甜蜜\r\n
[00:17.63]有心无力 遥不可及\r\n
[00:20.17]一切幻想写入了歌里\r\n
[00:23.89]与你飞行\r\n
[00:25.54]与你坠落\r\n
[00:27.03]与你感受\r\n
[00:28.34]与你快活\r\n
[00:29.78]与你想做的有太多\r\n
[00:32.70]却只能与你错过\r\n
[00:35.21]男：\r\n
[00:35.50]隔着屏幕说着爱你浓浓暧昧\r\n
[00:37.71]甜甜的像蜂蜜围绕在我心的周围\r\n
[00:40.94]被你调戏 变的痴醉\r\n
[00:43.62]愿意放弃一切 只为你的美\r\n
[00:46.17]就连前女友都没向朋友介绍\r\n
[00:48.72]却总把你挂在嘴边 总向朋友提起\r\n
[00:51.69]思念焦灼你的忽冷忽热让我煎熬\r\n
[00:54.72]像是吃了** 为你发疯着迷\r\n
[00:57.65]以为都为对方痴迷所以坠入爱河\r\n
[01:00.44]谁知只有自己一厢情愿变成过客\r\n
[01:03.40]朋友劝我不要继续下去没有结果\r\n
[01:06.22]还是不顾一切 为你犯下了错\r\n
[01:09.32]知道爱你\r\n
[01:10.45]就算没有结局\r\n
[01:12.21]也会用力\r\n
[01:13.33]把你抱在怀里\r\n
[01:15.10]关于你的一切 写在歌里\r\n
[01:17.53]把歌撕碎送给你 oh my baby\r\n
[01:21.69]喝醉了 你在哪里呢\r\n
[01:24.04]说不爱了 你有人爱了\r\n
[01:27.14]开始发疯开始哭了\r\n
[01:29.78]找不到回去的路了\r\n
[01:32.09]女：\r\n
[01:32.65]知道爱你 没有结局\r\n
[01:35.38]痴心妄想你会给我甜蜜\r\n
[01:38.62]有心无力 遥不可及\r\n
[01:41.15]一切幻想写入了歌里\r\n
[01:45.08]与你飞行\r\n
[01:46.48]与你坠落\r\n
[01:48.06]与你感受\r\n
[01:49.38]与你快活\r\n
[01:50.88]与你想做的有太多\r\n
[01:53.74]却只能与你错过\r\n
[01:55.89]男：\r\n
[01:55.94]我知道你我差的也只是时间等待\r\n
[01:58.50]我多希望可以和你概括故事梗概\r\n
[02:01.55]我知道我每次犯错你都对我忍耐\r\n
[02:04.31]我不想要输给他一定分出个胜败\r\n
[02:07.14]我多希望能知道知道我对你的爱\r\n
[02:10.06]你的每次安慰都让我更加对你依赖\r\n
[02:13.02]爱神丘比特都肯定这段感情存在\r\n
[02:15.74]用他的箭把我们连在一起\r\n
[02:17.51]绝对不会分开\r\n
[02:18.84]每次你的消息来临\r\n
[02:20.52]我的心都变得澎湃\r\n
[02:22.08]你就是我的动力\r\n
[02:23.30]也是我心里的唯一\r\n
[02:24.98]身边的朋友都劝我说我两面\r\n
[02:27.31]She so pretty girl tell me\r\n
[02:29.23]我心里没底\r\n
[02:30.40]我也有自知之明\r\n
[02:31.78]知道自己都不应该存在\r\n
[02:33.36]就让我内心隔着一层屏幕\r\n
[02:35.55]和你说着文爱\r\n
[02:36.85]回头吧最终还是把你送入我的记忆\r\n
[02:39.60]是文还是爱\r\n
[02:40.92]我想我还是选择你\r\n
[02:42.28]女：\r\n
[02:42.60]知道爱你 没有结局\r\n
[02:44.61]痴心妄想你会给我甜蜜\r\n
[02:48.04]有心无力 遥不可及\r\n
[02:50.55]一切幻想写入了歌里\r\n
[02:54.61]与你飞行\r\n
[02:55.78]与你坠落\r\n
[02:57.18]与你感受\r\n
[02:58.64]与你快活\r\n
[03:00.09]与你想做的有太多\r\n
[03:03.08]却只能与你错过\r\n
[03:06.04]\r\n
`;

    function parseLyric(text) {
        lyric = text.split('\r\n'); //先按行分割
        console.log(lyric)
        var _l = lyric.length; //获取歌词行数
        console.log(_l)
        lrc = new Array(); //新建一个数组存放最后结果
        for (i = 0; i < _l; i++) {
            var d = lyric[i].match(/\[\d{2}:\d{2}((\.|\:)\d{2})\]/g);  //正则匹配播放时间
            console.log(d)
            var t = lyric[i].split(d); //以时间为分割点分割每行歌词，数组最后一个为歌词正文
            if (d != null) { //过滤掉空行等非歌词正文部分
                //换算时间，保留两位小数
                var dt = String(d).split(':');
                var _t = Math.round(parseInt(dt[0].split('[')[1]) * 60 + parseFloat(dt[1].split(']')[0]) * 100) / 100;
                lrc.push([_t, t[1]]);
            }
            console.log(lrc)
            return lrc;
        }
    }

    var a = parseLyric(html)

    console.log(a);
    document.write(html)
</script>